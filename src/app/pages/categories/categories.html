<h1 class="text-4xl text-muted-color-emphasis text-center my-3">Categories</h1>

<p-button
routerLink="/categories/add"
label="Add Category" styleClass="mb-4"
severity="primary" [raised]="true"
/>
@if(categories().length > 0)
{
<p-table [value]="categories()" showGridlines stripedRows [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template #header>
    <tr>
      <th>Id</th>
      <th>Name</th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template #body let-category>
    <tr>
      <td>{{ category.id }}</td>
      <td>{{ category.name }}</td>
      <td class="flex gap-2">
        <p-button
          label="Delete" styleClass="mb-4"
          severity="danger" [rounded]="true"
          (onClick)="deleteCategory(category.id)"
        />
        <p-button
          [routerLink]="['/categories/edit', category.id]"
          label="Edit" styleClass="mb-4"
          severity="info" [rounded]="true"
        />
      </td>
    </tr>
  </ng-template>
</p-table>
}
@else {
<p class="text-center text-muted-color-emphasis">No categories available.</p>
}

<p-toast />
